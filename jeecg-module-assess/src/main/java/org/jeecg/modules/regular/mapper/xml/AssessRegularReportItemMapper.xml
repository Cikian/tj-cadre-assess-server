<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.regular.mapper.AssessRegularReportItemMapper">

    <delete id="deleteByMainId" parameterType="java.lang.String">
        DELETE
        FROM assess_regular_report_item
        WHERE main_id = #{mainId}    </delete>

    <select id="selectByMainId" parameterType="java.lang.String"
            resultType="org.jeecg.modules.regular.entity.AssessRegularReportItem">
        SELECT *
        FROM assess_regular_report_item
        WHERE main_id = #{mainId}
          and is_leader = '0'    </select>

    <select id="itemList" parameterType="java.lang.String"
            resultType="org.jeecg.modules.regular.entity.AssessRegularReportItem">
        SELECT name, sex, department_code, hash_id, birth_date
        FROM assess_regular_report_item
        WHERE current_year = #{currentYear}    </select>

    <select id="conflictList" parameterType="java.lang.String"
            resultType="org.jeecg.modules.regular.entity.AssessRegularReportItem">
        SELECT *
        FROM assess_regular_report_item
        WHERE name = #{name}
          and sex = #{sex}  </select>

    <select id="getAllCadres" resultType="org.jeecg.modules.regular.dto.RegularExportDTO">
        SELECT name,
               sex,
               birth_date,
               department_code,
               post,
               position_type,
               current_year,
               quarter1,
               quarter2,
               quarter3,
               quarter4,
               admin_department
        FROM assess_regular_report_item
        WHERE admin_department = '干部处'
          AND current_year = #{year}
    </select>

    <select id="getAllEmployee" resultType="org.jeecg.modules.regular.dto.RegularExportDTO">
        SELECT name,
               sex,
               birth_date,
               department_code,
               post,
               position_type,
               current_year,
               quarter1,
               quarter2,
               quarter3,
               quarter4,
               admin_department
        FROM assess_regular_report_item
        WHERE admin_department = '人事处'
          AND current_year = #{year}
    </select>

    <select id="getAllClerk" resultType="org.jeecg.modules.regular.dto.RegularExportDTO">
        SELECT name,
               sex,
               birth_date,
               department_code,
               post,
               position_type,
               current_year,
               quarter1,
               quarter2,
               quarter3,
               quarter4,
               admin_department
        FROM assess_regular_report_item
        WHERE current_year = #{year}
    </select>
</mapper>
